## 可靠传输的实现机制

- 停止-等待协议SW

    - 发送方发送完一个数据分组后，不会立即发送下一个分组，需要等待接收方的确认分组或否认分组；如果接收方发的是否认分组，则发送方需要重新发送未接收成功的分组。可见在收到接收方发送的确认分组之前，发送方需要缓存刚发送的分组。直至分组接收成功。
    - 如果发现丢包怎么办，为解决这个问题，可以在发送完一个数据分组时，启动一个`超时计时器`。若到了超时计时器所设置的重传时间数据分组，这就叫做`超时重传`。一般可将重传时间选为略大于"从发送方到接收方的平均往返时间"
     ![图片](../imgs/liunx/68.jpg)
    - 如果`接收方发送的确认分组丢失`呢? 发送方则会因为超时重复发送分组；为了`避免分组重复`这种传输错误，必须给`每个分组带上序号`。对于停止-等待协议，由于每发送一个数据分组就停止等待，只要保证每发送一个新的数据分组，其发送序号与上次发送的数据分组的序号不同就可以了，因此用`一个比特来编号就够了（即0和1）`.
    - 如果`接收方发送的确认分组`超时呢？（即大于重传时间发送方才接收到该确认分组）这样发送方必定会重传该分组。

- 回退N帧协议GBN
- 选择重传协议SR

>ps： 这三种可靠传输实现机制的基本原理并不仅限于数据链路层，可以yi8et到计算机网络体系结构的各层协议中。不因只局限在数据链路层。
